<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - Sistema PIE</title>

    <th:block layout:fragment="css-extra">
        <style>
            /* El estilo del body (display flex, justify-content, align-items, min-height, background)
               debe estar en layout.html o en tu style.css global si quieres que afecte a todas las páginas.
               Aquí solo mantenemos los estilos específicos del login-card que no estén en el layout. */

            /* Estos estilos SI van aquí porque son específicos de la tarjeta de login */
            .login-card {
                background-color: #ffffff;
                padding: 40px;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                max-width: 400px;
                width: 90%;
                text-align: center;
                /* Agregamos margin auto para centrar la tarjeta dentro del fragmento del layout */
                margin: auto;
            }
            .login-card h2 {
                margin-bottom: 25px;
                color: #333;
            }
            .form-control {
                border-radius: 0.25rem;
                margin-bottom: 15px;
            }
            .btn-primary {
                background-color: #007bff;
                border-color: #007bff;
                width: 100%;
                padding: 10px;
                font-size: 1.1em;
                margin-top: 10px;
            }
            .btn-primary:hover {
                background-color: #0056b3;
                border-color: #004085;
            }
            .alert-danger {
                margin-top: 15px;
            }
        </style>
    </th:block>
</head>
<body>

    <div layout:fragment="content">
        <div class="login-card">
            <h2>Bienvenid@</h2>
            <p>Por favor, ingresa tus datos para iniciar sesión</p>
            
            <div th:if="${error}" class="alert alert-danger" role="alert">
                <span th:text="${error}"></span>
            </div>

            <form th:action="@{/process-login-demo}" method="post"> 
                <div class="mb-3">
                    <input type="text" class="form-control" id="username" name="username" placeholder="Usuario o correo institucional" required autofocus>
                </div>
                <div class="mb-3">
                    <input type="password" class="form-control" id="password" name="password" placeholder="Contraseña" required>
                </div>
                <button type="submit" class="btn btn-primary">Ingresar</button>
            </form>
            <p class="mt-3"><a th:href="@{/login}">Volver a selección de perfil</a></p> 
            <p><a th:href="@{/recuperar-contrasena}">¿Olvidaste tu contraseña?</a></p>
        </div>
    </div>

    </body>
</html>